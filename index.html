<!DOCTYPE html>
<html>

<head>
    <link rel="icon" type="image/png" href="lgo.png">
    <title>Flick response study</title>
    <meta charset="utf-8">
    <meta name="author" content="Gaspar Lukacs">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no,maximum-scale=1">
    <script src="./flickTrack.js"></script>
    <script src="./disptime.js"></script>
    <script src="./jscd.js"></script>
    <script src="./utils.js"></script>
    <script src="./main.js"></script>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./flickTrack.css">
</head>

<body>


    <div id="rotate-warning" class="rotate-inactive">
        <p>Please rotate your device to landscape mode to continue.</p>
    </div>


    <div id="intro_id" class="longtext selectable" style="display:none;">
        <h1>Information</h1>

        <p>
            (This is a demo version of the application; more or less compatible with all devices.)
        </p>

        <p>
            Select design:
        </p>

        <p style="line-height: 200%;">
            <label>
                <input type="radio" name="design" value="0">
                Single button
            </label>
            <br />
            <label>
                <input type="radio" name="design" value="1">
                Dual button
            </label>
        </p>

        <p>
            Select task:
        </p>

        <p style="line-height: 200%;">
            <label>
                <input type="radio" name="task" value="0">
                Flanker
            </label>
            <br />
            <label>
                <input type="radio" name="task" value="1">
                SST
            </label>
        </p>

        <p><b>Aim:</b>
            <br>We are checking how we can use swipe movements in response inhibition tasks. Later on we might be able
            to use this for interesting psychological measurements.
            <br>Participants have to respond with touchscreen presses to items appearing on the screen.
        </p>

        <p><b>Payment:</b>
            <br>
            The task takes around 5 minutes.
            <span id="pay_info">
                <b>
                    We could not detect your Prolific ID!
                </b> Therefore we will assume that this is a voluntary testing and you will not receive payment. If you
                are trying to do this test as a job via Prolific and want to be
                compensated, you should open the proper link provided.
            </span>
        </p>

        <p><b>Rights:</b>
            <br>You can stop participating in the study at any time without giving a reason (by closing or refreshing
            this website). In this case, all recorded data will be fully deleted.
            <br>This application was tested thoroughly, but we cannot guarantee that it will correctly work with your
            specific device and operating system. Please contact lkcsgaspar@gmail.com if you run into any trouble.
        </p>

        <p><b>Anonymity and Privacy:</b>
            <br>The results of the study (touch movement data) are used and published for research purposes. The data do
            not provide any information about you personally. Your identity will be kept strictly confidential.
        </p>

        <p><b>Consent:</b>
            <br>By clicking the "Consent & Continue" button, you declare that you have read and understood the
            information above. You confirm that you will be concentrating on the task and complete it to the best of
            your abilities.
        </p>
        <br>

        <button type="button" class="main_button" onclick="consent()">
            Consent & Continue
        </button>
        <br>
        <br>
    </div>

    <div id="instructions1_flank_a" class="longtext" style="display:none;">

        <h1>Instructions</h1>

        <p>
            Begin by placing your smartphone on a table or another solid surface.
        </p>
        <p>
            During the task, you will see the following displayed at the bottom of the screen.
        </p>

        <div class="flick-frame-class flick-frame-demo">
            <div class="flick-left-line flick-line"></div>
            <div class="flick-right-line flick-line"></div>

            <div class="flick-buttons-wrapper">
                <button class="flick-button-left flick-button-class"></button>
                <button class="flick-button-right flick-button-class"></button>
            </div>
        </div>


        <p>
            At the beginning of each trial, you should place your left index finger on the left grey button and your
            right index finger on the right grey button.

            Soon after your finger touch is detected on both buttons, there will appear, at the top center of the
            screen, a left
            arrow (←) or a right
            arrow (→).

            Respond quickly to the arrow:
        <ul>
            <li><b>Left arrow (←):</b> Swipe your left finger towards the left, crossing the left green line.</li>
            <li><b>Right arrow (→):</b> Swipe your right finger towards the right, crossing the right green line.</li>
        </ul>
        </p>

        <p>
            Do not move your finger up or down: crossing the lower or upper borders of the dedicated frame invalidates
            the trial.
        </p>

        <p>
            Try to make correct decisions as fast as possible.
        </p>

        <p>
            Start the practice with the <b>Start</b> button below.
        </p>

        <br>
        <button type="button" class="main_button" onclick='begin();'>Start</button>
        <br>
        <br>
    </div>

    <div id="instructions1_flank_b" class="longtext" style="display:none;">

        <h1>Instructions</h1>

        <p>
            Please place your smartphone on a table (or other solid surface).
        </p>
        <p>
            During the task, you will see the following displayed on the screen.
        </p>

        <div class="flick-frame-class flick-frame-demo">
            <div class="flick-left-line flick-line"></div>
            <div class="flick-right-line flick-line"></div>
            <button class="flick-button-circle"></button>
        </div>


        <p>
            At the beginning of each trial, you should place your preferred index finger on the circle at the bottom.
            (If you would like, you may use your middle finger instead of index finger.)
            Almost immediately after your finger touch is detected, you will get a "↑" message, as below. This means you
            should start moving your finger up, toward the top of the screen.
        </p>

        <div class="flick-frame-class flick-frame-demo">
            <div class="flick-stim-class">↑</div>
            <div class="flick-left-line flick-line"></div>
            <div class="flick-right-line flick-line"></div>
            <button class="flick-button-circle"></button>
        </div>

        <p>

            Right after you start moving your finger, the arrow will change into a left arrow (←) or a right arrow (→)
            displayed on the
            screen. As soon as you see this, move your finger, as fast as you can, to the corresponding direction (to
            the left for left arrow, to the right for right arrow). Your finger should cross either the left or the
            right vertical line (in green).
        </p>

        <p>
            Start the practice with the <b>Start</b> button below.
        </p>

        <br>
        <button type="button" class="main_button" onclick='begin();'>Start</button>
        <br>
        <br>
    </div>

    <div id="instructions2_sst" class="longtext" style="display:none;">
        <p>
            For the rest of the task, on some trials, very shortly after the left or right arrow appears, the frame will
            become red and there will
            appear an "X" sign on each side of the arrow, representing a "STOP" signal.
        </p>

        <p>
            Like this:
        </p>

        <div class="flick-frame-class flick-frame-demo" style="background-color: red;">
            <div class="flick-stim-class">x ← x</div>
            <div class="flick-left-line flick-line"></div>
            <div class="flick-right-line flick-line"></div>
            <button class="flick-button-circle"></button>
        </div>

        <p>
            Or like this:
        </p>

        <div class="flick-frame-class flick-frame-demo" style="background-color: red;">
            <div class="flick-stim-class">x → x</div>
            <div class="flick-left-line flick-line"></div>
            <div class="flick-right-line flick-line"></div>
            <button class="flick-button-circle"></button>
        </div>

        <p>
            When this happens, please try your best to stop your response and <i>not press</i> any button on that trial.
            It is normal and expected if you will not always be able to successfully stop when a stop signal
            appears. However, if you continue to try very hard to stop when a stop signal appears, you
            should be able to stop sometimes.
        </p>

        <p>
            <b>
                Please balance the requirement to respond quickly and accurately to the arrows while trying very hard to
                stop to the stop signal.
            </b>
        </p>

        <br>
        <button type="button" class="main_button" onclick='begin();'>Start</button>
        <br>
        <br>
    </div>


    <div id="instructions2_flank_0" class="longtext" style="display:none;">
        <p>
            For the entire rest of the task, the single arrow will be surrounded by additional "flanker" arrows on both
            sides. There
            are four possible variations: <b>→→→→→</b>, <b>←←←←←</b>, <b>→→←→←</b>, <b>←←→←←</b>.

            <b>Pay close
                attention to the central arrow only.</b>
            Just like in the practice phase, you need to respond based on the direction indicated by the central arrow:
            left swipe for a left
            arrow (←) and right swipe for a right arrow (→). The task will move on regardless of
            whether you respond
            correctly. Nonetheless, please remember: your finger should cross either the left or the right vertical
            line (in green) to make a correct response.
            </b>
        </p>

        <br>
        <button type="button" class="main_button" onclick='begin();'>Start</button>
        <br>
        <br>
    </div>
    <div id="instructions2_flank_1" class="longtext" style="display:none;">
        <p>
            For the entire rest of the task, the single arrow will be surrounded by additional "flanker" arrows on both
            sides. There
            are four possible variations: <b>→→→→→</b>, <b>←←←←←</b>, <b>→→←→←</b>, <b>←←→←←</b>.

            <b>Pay close
                attention to the central arrow only.</b>
            Just like in the practice phase, you need to respond based on the direction indicated by the central arrow:
            left swipe with left finger for a left
            arrow (←) and right swipe with write finger for a right arrow (→). The task will move on regardless of
            whether you respond
            correctly. Nonetheless, please remember: your finger should cross either the left or the right vertical
            line (in green) to make a correct response.
            </b>
        </p>

        <br>
        <button type="button" class="main_button" onclick='begin();'>Start</button>
        <br>
        <br>
    </div>
    <div id="instructions2_flank_2" class="longtext" style="display:none;">
        <p>
            For the entire rest of the task, the single arrow will be surrounded by additional "flanker" arrows on both
            sides. There
            are four possible variations: <b>→→→→→</b>, <b>←←←←←</b>, <b>→→←→←</b>, <b>←←→←←</b>.
            <b>Pay close
                attention to the central arrow only.</b>
            Just like in the practice phase, the central arrow will change
            direction right after you start moving your finger. Ignore the flanker arrows; they are not important for
            your decision.
        </p>

        <p>
            <b>
                As quickly as you can, move your finger in the direction indicated by the central arrow: left for a left
                arrow (←) and right for a right arrow (→). The task will move on regardless of whether you respond
                correctly. Nonetheless, please remember: your finger should cross either the left or the right vertical
                line (in green) to make a correct response.
            </b>
        </p>

        <br>
        <button type="button" class="main_button" onclick='begin();'>Start</button>
        <br>
        <br>
    </div>
    <div id="instructions2_flank_3" class="longtext" style="display:none;">
        <p>
            For the entire rest of the task, the single arrow will be surrounded by additional "flanker" arrows on both
            sides. There
            are four possible variations: <b>→→→→→</b>, <b>←←←←←</b>, <b>→→←→←</b>, <b>←←→←←</b>.
            <b>Pay close
                attention to the central arrow only.</b>
            Just like in the practice phase, the central arrow will change
            direction right after you start moving your finger. Ignore the flanker arrows; they are not important for
            your decision.
        </p>

        <p>
            <b>
                As quickly as you can, move your finger in the direction indicated by the central arrow: left for a left
                arrow (←) and right for a right arrow (→). The task will move on regardless of whether you respond
                correctly. Nonetheless, please remember: your finger should cross either the left or the right vertical
                line (in green) to make a correct response.
            </b>
        </p>

        <br>
        <button type="button" class="main_button" onclick='begin();'>Start</button>
        <br>
        <br>
    </div>

    <div id="task_id" style="display:none;">

        <div class="flick-stim-class" id="flick-stimulus"></div>

        <div class="flick-frame-class">
            <div class="flick-left-line flick-line"></div>
            <div class="flick-right-line flick-line"></div>

            <div class="flick-buttons-wrapper">
                <button class="flick-button-left flick-button-class" id="flick-button-left"></button>
                <button class="flick-button-right flick-button-class" id="flick-button-right"></button>
                <button class="flick-button-right flick-button-class" id="flick-button-single"></button>
            </div>
        </div>

    </div>

    <div id="end_id" class="longtext" style="display:none;">
        <b>This is the end of the experiment, thank you for participating!</b>

        <span id="pass_container">
            <br><br>
            Please open the following link to register your completed participation:
            <br>
            <span id="pass_id">[Please wait, the link is not yet available.]</span>
        </span>
        <br>
        <br>
        You may also use the following code to verify your participation: <b><span id="subj_id"></span></b>
        <br>
        <br>
        <p id="save_success" style="display:none;">
            Your data has been safely stored. You may close this web page.
            <br>
            <br>
        </p>
        <p id="save_fail">
            Data cannot be saved on the server. Perhaps there is some trouble with the internet connection? <b>Press
                this <button onclick="upload();" id="retry_button">RETRY<span id="retry_spin"></span></button>
                button to try saving on the server again. (This message will disappear on successful saving.)
                Alternatively, press this <button onclick="dl_as_file();">DOWNLOAD</button> button to save your data
                manually (note: you must allow pop-ups), and then send it to lkcsgaspar@gmail.com.</b>
            <br>
            <br>
        </p>
        If you have any questions related to this experiment, please contact <a target="_blank"
            href="https://gasparl.github.io/">Gáspár Lukács</a> at <a
            href="mailto:lkcsgaspar@gmail.com">lkcsgaspar@gmail.com</a>
    </div>


    <div id="cancel_id" class="longtext selectable" style="display:none;">

        We could not detect the touchscreen on your device. <span id="extra_info"></span> As explained in the
        description, to participate in this study, you must have smartphone with a touchscreen (at least 360 px wide and
        640 px height).
        <br><br>
        If you believe that this is mistake on our part, please email lkcsgaspar@gmail.com.
        <br><br>
        Otherwise, <b>please return you submission</b>. (See <a
            href='https://participant-help.prolific.co/hc/en-gb/articles/360022342094-How-do-I-withdraw-my-participation-in-a-study-'
            target='_blank'>here</a> for instructions.)

    </div>

</body>

</html>